{% extends "dashboard/dashboard.html" %}

{% block body %}
<section class="bat-main-content is-flex pt-6">
    <div class="container is-max-tablet">
        <h2 class="title is-2 has-text-centered">{{ title }}</h2>
        {% include "helpers/notification.html" %}
        <form class="main-form"
            hx-post="{{ url_for("dashboard_user_add_page") }}"
            hx-select=".bat-main-content"
            hx-target=".bat-main-content"
            hx-swap="outerHTML"
            hx-ext="json-enc"
            hx-indicator="#create-user-button">
            <div class="field">
                <label class="label">E-mail</label>
                <div class="control">
                    <input name="email" class="input selected-input" type="email" placeholder="john@doe.com">
                </div>
            </div>
            <div class="field">
                <label class="label">Username</label>
                <p class="has-text-grey-light">Letter and numbers only</p>
                <div class="control">
                    <input name="username" class="input" type="text" placeholder="JohnDoe" pattern="[A-Za-z0-9]*">
                </div>
            </div>
            <div class="field">
                <label class="label">Password</label>
                <p class="has-text-grey-light">12 - 128 characters.<br>Leave empty for auto-generated password.</p>
                <div class="control">
                    <input name="password" class="input" type="password" pattern=".{12,128}" placeholder="******">
                </div>
            </div>
            <div class="field">
                <label class="label">Role</label>
                <div class="select is-fullwidth">
                    <select name="role">
                        {% for role in available_roles %}
                        <option value="{{ role }}">{{ role }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="is-fullwidth pt-4 is-flex is-justify-content-space-around is-flex-direction-row-reverse">
                <div class="control">
                    <input id="create-user-button" type="submit" value="Create User" class="button is-success is-light">
                </div>
                <div class="control">
                    <a class="button is-warning is-light" href="{{ url_for("dashboard_users_page") }}" hx-boost="true">&#11013;&nbsp;Return</a>
                </div>
            </div>
        </form>
    </div>
</section>
{% endblock %}
